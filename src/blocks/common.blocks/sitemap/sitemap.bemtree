block('sitemap')(
    content()(function () {
        var menu = this.data.menu[0].items,
            menuList = [],
            section = [];

        // console.log(this.data.menu[0].items);

        function goTree(menu) {
            for (var i = 0; i < menu.length; ++i) {
                if (menu[i].items && menu[i].items.length !== 0) {
                    section.push({ elem: 'title', content: menu[i].title });
                    goTree(menu[i].items);
                } else {
                    section.push({ elem: 'item', content: menu[i].title });
                }
            }
            menuList.push({ elem: 'section', content: section });
            section = [];
        }

        goTree(menu);
        return menuList;
    })
);
